import React, { useState } from "react";
import { Stage, Layer, Circle, Rect, Path, Group } from "react-konva";

export const CallingSignal = ({ x, y, angle, height, width, compType = "svg", type }) => {
    const originalWidth = 300;
    const originalHeight = 598;
    const scaleX = (width || 15) / originalWidth;
    const scaleY = (height || 30) / originalHeight;

    if (compType === "svg") {
        return (
            <svg
                width="4vh"
                height="5vh"
                viewBox="0 0 220 441"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
                style={{ cursor: "pointer" }}
            >
                {/* Off */}
                {type === 'off' ? (
                    <>
                        <circle cx="109.89" cy="110.612" r="109.89" fill="#494949" />
                        <circle cx="109.89" cy="110.612" r="59.977" fill="#616060" />
                    </>
                ) : null
                }

                {/* On */}
                {type === 'on' ? (
                    <>
                        <g filter="url(#filter0_d_492_36587)">
                            <circle cx="109.89" cy="110.612" r="109.89" fill="#FFB800" />
                        </g>
                        <circle cx="109.89" cy="110.612" r="59.977" fill="#FFDD00" />
                    </>
                ) : null
                }

                <circle cx="109.89" cy="110.612" r="105.494" stroke="black" strokeWidth="8.79121" />
                <rect x="1.5" y="222.222" width="217" height="217" rx="108.5" fill="white" stroke="black" strokeWidth="3" />
                <path
                    d="M157.754 313.402H138.098C137.538 310.179 136.504 307.323 134.997 304.835C133.491 302.313 131.616 300.175 129.374 298.423C127.131 296.671 124.574 295.358 121.7 294.482C118.862 293.571 115.797 293.115 112.503 293.115C106.652 293.115 101.466 294.587 96.9462 297.53C92.4263 300.438 88.8875 304.713 86.3297 310.354C83.772 315.96 82.4931 322.81 82.4931 330.903C82.4931 339.137 83.772 346.075 86.3297 351.716C88.9225 357.322 92.4614 361.562 96.9462 364.435C101.466 367.273 106.634 368.692 112.45 368.692C115.674 368.692 118.687 368.271 121.49 367.43C124.328 366.555 126.869 365.276 129.111 363.594C131.388 361.912 133.298 359.845 134.84 357.392C136.416 354.939 137.503 352.136 138.098 348.983L157.754 349.088C157.019 354.204 155.424 359.004 152.972 363.489C150.554 367.974 147.383 371.933 143.459 375.367C139.535 378.765 134.945 381.428 129.689 383.355C124.433 385.247 118.6 386.193 112.188 386.193C102.727 386.193 94.2833 384.003 86.8553 379.624C79.4273 375.244 73.5759 368.92 69.3013 360.651C65.0267 352.382 62.8894 342.466 62.8894 330.903C62.8894 319.306 65.0442 309.39 69.3539 301.156C73.6635 292.887 79.5324 286.563 86.9604 282.183C94.3884 277.804 102.798 275.614 112.188 275.614C118.179 275.614 123.75 276.455 128.901 278.136C134.051 279.818 138.641 282.288 142.671 285.547C146.7 288.77 150.011 292.73 152.604 297.425C155.232 302.085 156.949 307.411 157.754 313.402Z"
                    fill="black"
                />
            </svg>
        );
    }

    return (
        <Group
            x={x}
            y={y}
            scaleX={scaleX}
            scaleY={scaleY}
            rotation={ 90}
        >
            {/* Off State */}
            {type === 'off' ? (
                <>
                    <Circle x={109.89} y={110.612} radius={109.89} fill="#494949" />
                    <Circle x={109.89} y={110.612} radius={59.977} fill="#616060" />
                </>
            ) : null
            }

            {/* On State */}
            {type === 'on' ? (
                <>
                    <Circle x={109.89} y={110.612} radius={109.89} fill="#FFB800" />
                    <Circle x={109.89} y={110.612} radius={59.977} fill="#FFDD00" />
                </>
            ) : null
            }

            {/* Border Ring */}
            <Circle x={109.89} y={110.612} radius={105.494} stroke="black" strokeWidth={8.79121} />

            {/* Outer Rectangle */}
            <Rect x={1.5} y={222.222} width={217} height={217} cornerRadius={108.5} fill="white" stroke="black" strokeWidth={3} />

            {/* Path */}
            <Path
                data="M157.754 313.402H138.098C137.538 310.179 136.504 307.323 134.997 304.835C133.491 302.313 131.616 300.175 129.374 298.423C127.131 296.671 124.574 295.358 121.7 294.482C118.862 293.571 115.797 293.115 112.503 293.115C106.652 293.115 101.466 294.587 96.9462 297.53C92.4263 300.438 88.8875 304.713 86.3297 310.354C83.772 315.96 82.4931 322.81 82.4931 330.903C82.4931 339.137 83.772 346.075 86.3297 351.716C88.9225 357.322 92.4614 361.562 96.9462 364.435C101.466 367.273 106.634 368.692 112.45 368.692C115.674 368.692 118.687 368.271 121.49 367.43C124.328 366.555 126.869 365.276 129.111 363.594C131.388 361.912 133.298 359.845 134.84 357.392C136.416 354.939 137.503 352.136 138.098 348.983L157.754 349.088C157.019 354.204 155.424 359.004 152.972 363.489C150.554 367.974 147.383 371.933 143.459 375.367C139.535 378.765 134.945 381.428 129.689 383.355C124.433 385.247 118.6 386.193 112.188 386.193C102.727 386.193 94.2833 384.003 86.8553 379.624C79.4273 375.244 73.5759 368.92 69.3013 360.651C65.0267 352.382 62.8894 342.466 62.8894 330.903C62.8894 319.306 65.0442 309.39 69.3539 301.156C73.6635 292.887 79.5324 286.563 86.9604 282.183C94.3884 277.804 102.798 275.614 112.188 275.614C118.179 275.614 123.75 276.455 128.901 278.136C134.051 279.818 138.641 282.288 142.671 285.547C146.7 288.77 150.011 292.73 152.604 297.425C155.232 302.085 156.949 307.411 157.754 313.402Z"
                fill="black"
            />
        </Group>
    );
}

