import React, { useEffect, useRef } from 'react'
import { rotateFn } from '../../cab-replica/CabReplicate/CabUtility';
import { updateVIDData } from '../VIDUtility';

export default function CCBPassOrGoods({width=40, height=40, valueKey='', data=0}) {
       const handleRef=useRef(null);
            const prevDataRef=useRef(data);
            const pos=useRef(data);
    
            useEffect(()=>{
                if(data===0)
                {
                    rotateFn(handleRef,0,prevDataRef);
                }
                else if(data===1)
                {
                    rotateFn(handleRef, -90, prevDataRef);
                }
            },[data])
        
            const clickHandler=()=>{
                if(pos.current===1)
                {
                    pos.current=0;
                    rotateFn(handleRef,0,prevDataRef);
                }
                else if(pos.current===0)
                {
                    pos.current=1;
                    rotateFn(handleRef,-90,prevDataRef);
                }
                updateVIDData(valueKey, pos.current);
            }
    
    const handelStyle={transformOrigin:"15px 14px", };
  return (
    <div style={{width:width}} height={height}>
            <svg width="100%" height="100%" viewBox="0 0 32 32" fill="none" style={{cursor:"pointer"}} >
            <g filter="url(#filter0_dd_1324_2872)">
            <rect x="0.842041" y="0.533203" width="27.3516" height="27.8985" rx="2" fill="#B0ABA7"/>
            <rect x="0.842041" y="0.533203" width="27.3516" height="27.8985" rx="2" fill="url(#pattern0_1324_2872)" fill-opacity="0.2"/>
            </g>
            <g filter="url(#filter1_ii_1324_2872)">
            <circle cx="15.2269" cy="14.1822" r="8.66171" fill="#2E2E2E"/>
            </g>
            <g ref={handleRef} onClick={clickHandler}   style={handelStyle}>
                <g filter="url(#filter2_iiii_1324_2872)">
                <path d="M8.22826 18.8917L5.81079 22.3179C4.84798 23.6824 5.24785 25.5776 6.67988 26.4368C7.91271 27.1766 9.50256 26.8909 10.4007 25.7682L11.139 24.8453L13.6068 22.2654C13.705 22.1627 13.7958 22.0532 13.8785 21.9377L17.2621 17.2099C18.0807 16.2401 19.8047 14.0738 21.3264 11.828C22.053 10.7556 21.9438 9.31578 20.9475 8.48792C19.9998 7.70044 19.0504 7.11115 18.3632 6.74729C17.9773 6.54296 17.5182 6.5644 17.1318 6.76775C16.933 6.87235 16.7614 7.02172 16.6303 7.20406L8.22826 18.8917Z" fill="#2E2E2E"/>
                </g>
                <line x1="19.975" y1="7.77335" x2="18.2348" y2="10.2936" stroke="white"/>
                <circle cx="14.4641" cy="15.6311" r="1.55103" fill="#697166"/>
                <circle cx="14.4641" cy="15.6315" r="0.761414" fill="#2E2E2E"/>
            </g>
            <path d="M4.22387 4.07451C4.22387 4.18651 4.19687 4.29151 4.14287 4.38951C4.09087 4.48751 4.00787 4.56651 3.89387 4.62651C3.78187 4.68651 3.63987 4.71651 3.46787 4.71651H3.11687V5.52051H2.69687V3.42651H3.46787C3.62987 3.42651 3.76787 3.45451 3.88187 3.51051C3.99587 3.56651 4.08087 3.64351 4.13687 3.74151C4.19487 3.83951 4.22387 3.95051 4.22387 4.07451ZM3.44987 4.37751C3.56587 4.37751 3.65187 4.35151 3.70787 4.29951C3.76387 4.24551 3.79187 4.17051 3.79187 4.07451C3.79187 3.87051 3.67787 3.76851 3.44987 3.76851H3.11687V4.37751H3.44987ZM5.80606 5.12151H4.97206L4.83406 5.52051H4.39306L5.14606 3.42351H5.63506L6.38806 5.52051H5.94406L5.80606 5.12151ZM5.69206 4.78551L5.38906 3.90951L5.08606 4.78551H5.69206ZM7.39252 5.54151C7.24652 5.54151 7.11452 5.51651 6.99652 5.46651C6.88052 5.41651 6.78852 5.34451 6.72052 5.25051C6.65252 5.15651 6.61752 5.04551 6.61552 4.91751H7.06552C7.07152 5.00351 7.10152 5.07151 7.15552 5.12151C7.21152 5.17151 7.28752 5.19651 7.38352 5.19651C7.48152 5.19651 7.55852 5.17351 7.61452 5.12751C7.67052 5.07951 7.69852 5.01751 7.69852 4.94151C7.69852 4.87951 7.67952 4.82851 7.64152 4.78851C7.60352 4.74851 7.55552 4.71751 7.49752 4.69551C7.44152 4.67151 7.36352 4.64551 7.26352 4.61751C7.12752 4.57751 7.01652 4.53851 6.93052 4.50051C6.84652 4.46051 6.77352 4.40151 6.71152 4.32351C6.65152 4.24351 6.62152 4.13751 6.62152 4.00551C6.62152 3.88151 6.65252 3.77351 6.71452 3.68151C6.77652 3.58951 6.86352 3.51951 6.97552 3.47151C7.08752 3.42151 7.21552 3.39651 7.35952 3.39651C7.57552 3.39651 7.75052 3.44951 7.88452 3.55551C8.02052 3.65951 8.09552 3.80551 8.10952 3.99351H7.64752C7.64352 3.92151 7.61252 3.86251 7.55452 3.81651C7.49852 3.76851 7.42352 3.74451 7.32952 3.74451C7.24752 3.74451 7.18152 3.76551 7.13152 3.80751C7.08352 3.84951 7.05952 3.91051 7.05952 3.99051C7.05952 4.04651 7.07752 4.09351 7.11352 4.13151C7.15152 4.16751 7.19752 4.19751 7.25152 4.22151C7.30752 4.24351 7.38552 4.26951 7.48552 4.29951C7.62152 4.33951 7.73252 4.37951 7.81852 4.41951C7.90452 4.45951 7.97852 4.51951 8.04052 4.59951C8.10252 4.67951 8.13352 4.78451 8.13352 4.91451C8.13352 5.02651 8.10452 5.13051 8.04652 5.22651C7.98852 5.32251 7.90352 5.39951 7.79152 5.45751C7.67952 5.51351 7.54652 5.54151 7.39252 5.54151ZM9.22065 5.54151C9.07465 5.54151 8.94265 5.51651 8.82465 5.46651C8.70865 5.41651 8.61665 5.34451 8.54865 5.25051C8.48065 5.15651 8.44565 5.04551 8.44365 4.91751H8.89365C8.89965 5.00351 8.92965 5.07151 8.98365 5.12151C9.03965 5.17151 9.11565 5.19651 9.21165 5.19651C9.30965 5.19651 9.38665 5.17351 9.44265 5.12751C9.49865 5.07951 9.52665 5.01751 9.52665 4.94151C9.52665 4.87951 9.50765 4.82851 9.46965 4.78851C9.43165 4.74851 9.38365 4.71751 9.32565 4.69551C9.26965 4.67151 9.19165 4.64551 9.09165 4.61751C8.95565 4.57751 8.84465 4.53851 8.75865 4.50051C8.67465 4.46051 8.60165 4.40151 8.53965 4.32351C8.47965 4.24351 8.44965 4.13751 8.44965 4.00551C8.44965 3.88151 8.48065 3.77351 8.54265 3.68151C8.60465 3.58951 8.69165 3.51951 8.80365 3.47151C8.91565 3.42151 9.04365 3.39651 9.18765 3.39651C9.40365 3.39651 9.57865 3.44951 9.71265 3.55551C9.84865 3.65951 9.92365 3.80551 9.93765 3.99351H9.47565C9.47165 3.92151 9.44065 3.86251 9.38265 3.81651C9.32665 3.76851 9.25165 3.74451 9.15765 3.74451C9.07565 3.74451 9.00965 3.76551 8.95965 3.80751C8.91165 3.84951 8.88765 3.91051 8.88765 3.99051C8.88765 4.04651 8.90565 4.09351 8.94165 4.13151C8.97965 4.16751 9.02565 4.19751 9.07965 4.22151C9.13565 4.24351 9.21365 4.26951 9.31365 4.29951C9.44965 4.33951 9.56065 4.37951 9.64665 4.41951C9.73265 4.45951 9.80665 4.51951 9.86865 4.59951C9.93065 4.67951 9.96165 4.78451 9.96165 4.91451C9.96165 5.02651 9.93265 5.13051 9.87465 5.22651C9.81665 5.32251 9.73165 5.39951 9.61965 5.45751C9.50765 5.51351 9.37465 5.54151 9.22065 5.54151Z" fill="black"/>
            <path d="M18.4201 3.56334C18.3721 3.47534 18.3061 3.40834 18.2221 3.36234C18.1381 3.31634 18.0401 3.29334 17.9281 3.29334C17.8041 3.29334 17.6941 3.32134 17.5981 3.37734C17.5021 3.43334 17.4271 3.51334 17.3731 3.61734C17.3191 3.72134 17.2921 3.84134 17.2921 3.97734C17.2921 4.11734 17.3191 4.23934 17.3731 4.34334C17.4291 4.44734 17.5061 4.52734 17.6041 4.58334C17.7021 4.63934 17.8161 4.66734 17.9461 4.66734C18.1061 4.66734 18.2371 4.62534 18.3391 4.54134C18.4411 4.45534 18.5081 4.33634 18.5401 4.18434H17.8201V3.86334H18.9541V4.22934C18.9261 4.37534 18.8661 4.51034 18.7741 4.63434C18.6821 4.75834 18.5631 4.85834 18.4171 4.93434C18.2731 5.00834 18.1111 5.04534 17.9311 5.04534C17.7291 5.04534 17.5461 5.00034 17.3821 4.91034C17.2201 4.81834 17.0921 4.69134 16.9981 4.52934C16.9061 4.36734 16.8601 4.18334 16.8601 3.97734C16.8601 3.77134 16.9061 3.58734 16.9981 3.42534C17.0921 3.26134 17.2201 3.13434 17.3821 3.04434C17.5461 2.95234 17.7281 2.90634 17.9281 2.90634C18.1641 2.90634 18.3691 2.96434 18.5431 3.08034C18.7171 3.19434 18.8371 3.35534 18.9031 3.56334H18.4201ZM20.2369 5.04834C20.0409 5.04834 19.8609 5.00234 19.6969 4.91034C19.5329 4.81834 19.4029 4.69134 19.3069 4.52934C19.2109 4.36534 19.1629 4.18034 19.1629 3.97434C19.1629 3.77034 19.2109 3.58734 19.3069 3.42534C19.4029 3.26134 19.5329 3.13334 19.6969 3.04134C19.8609 2.94934 20.0409 2.90334 20.2369 2.90334C20.4349 2.90334 20.6149 2.94934 20.7769 3.04134C20.9409 3.13334 21.0699 3.26134 21.1639 3.42534C21.2599 3.58734 21.3079 3.77034 21.3079 3.97434C21.3079 4.18034 21.2599 4.36534 21.1639 4.52934C21.0699 4.69134 20.9409 4.81834 20.7769 4.91034C20.6129 5.00234 20.4329 5.04834 20.2369 5.04834ZM20.2369 4.67334C20.3629 4.67334 20.4739 4.64534 20.5699 4.58934C20.6659 4.53134 20.7409 4.44934 20.7949 4.34334C20.8489 4.23734 20.8759 4.11434 20.8759 3.97434C20.8759 3.83434 20.8489 3.71234 20.7949 3.60834C20.7409 3.50234 20.6659 3.42134 20.5699 3.36534C20.4739 3.30934 20.3629 3.28134 20.2369 3.28134C20.1109 3.28134 19.9989 3.30934 19.9009 3.36534C19.8049 3.42134 19.7299 3.50234 19.6759 3.60834C19.6219 3.71234 19.5949 3.83434 19.5949 3.97434C19.5949 4.11434 19.6219 4.23734 19.6759 4.34334C19.7299 4.44934 19.8049 4.53134 19.9009 4.58934C19.9989 4.64534 20.1109 4.67334 20.2369 4.67334ZM22.5923 5.04834C22.3963 5.04834 22.2163 5.00234 22.0523 4.91034C21.8883 4.81834 21.7583 4.69134 21.6623 4.52934C21.5663 4.36534 21.5183 4.18034 21.5183 3.97434C21.5183 3.77034 21.5663 3.58734 21.6623 3.42534C21.7583 3.26134 21.8883 3.13334 22.0523 3.04134C22.2163 2.94934 22.3963 2.90334 22.5923 2.90334C22.7903 2.90334 22.9703 2.94934 23.1323 3.04134C23.2963 3.13334 23.4253 3.26134 23.5193 3.42534C23.6153 3.58734 23.6633 3.77034 23.6633 3.97434C23.6633 4.18034 23.6153 4.36534 23.5193 4.52934C23.4253 4.69134 23.2963 4.81834 23.1323 4.91034C22.9683 5.00234 22.7883 5.04834 22.5923 5.04834ZM22.5923 4.67334C22.7183 4.67334 22.8293 4.64534 22.9253 4.58934C23.0213 4.53134 23.0963 4.44934 23.1503 4.34334C23.2043 4.23734 23.2313 4.11434 23.2313 3.97434C23.2313 3.83434 23.2043 3.71234 23.1503 3.60834C23.0963 3.50234 23.0213 3.42134 22.9253 3.36534C22.8293 3.30934 22.7183 3.28134 22.5923 3.28134C22.4663 3.28134 22.3543 3.30934 22.2563 3.36534C22.1603 3.42134 22.0853 3.50234 22.0313 3.60834C21.9773 3.71234 21.9503 3.83434 21.9503 3.97434C21.9503 4.11434 21.9773 4.23734 22.0313 4.34334C22.0853 4.44934 22.1603 4.53134 22.2563 4.58934C22.3543 4.64534 22.4663 4.67334 22.5923 4.67334ZM24.7078 2.93334C24.9278 2.93334 25.1208 2.97634 25.2868 3.06234C25.4548 3.14834 25.5838 3.27134 25.6738 3.43134C25.7658 3.58934 25.8118 3.77334 25.8118 3.98334C25.8118 4.19334 25.7658 4.37734 25.6738 4.53534C25.5838 4.69134 25.4548 4.81234 25.2868 4.89834C25.1208 4.98434 24.9278 5.02734 24.7078 5.02734H23.9758V2.93334H24.7078ZM24.6928 4.67034C24.9128 4.67034 25.0828 4.61034 25.2028 4.49034C25.3228 4.37034 25.3828 4.20134 25.3828 3.98334C25.3828 3.76534 25.3228 3.59534 25.2028 3.47334C25.0828 3.34934 24.9128 3.28734 24.6928 3.28734H24.3958V4.67034H24.6928ZM26.8492 5.04834C26.7032 5.04834 26.5712 5.02334 26.4532 4.97334C26.3372 4.92334 26.2452 4.85134 26.1772 4.75734C26.1092 4.66334 26.0742 4.55234 26.0722 4.42434H26.5222C26.5282 4.51034 26.5582 4.57834 26.6122 4.62834C26.6682 4.67834 26.7442 4.70334 26.8402 4.70334C26.9382 4.70334 27.0152 4.68034 27.0712 4.63434C27.1272 4.58634 27.1552 4.52434 27.1552 4.44834C27.1552 4.38634 27.1362 4.33534 27.0982 4.29534C27.0602 4.25534 27.0122 4.22434 26.9542 4.20234C26.8982 4.17834 26.8202 4.15234 26.7202 4.12434C26.5842 4.08434 26.4732 4.04534 26.3872 4.00734C26.3032 3.96734 26.2302 3.90834 26.1682 3.83034C26.1082 3.75034 26.0782 3.64434 26.0782 3.51234C26.0782 3.38834 26.1092 3.28034 26.1712 3.18834C26.2332 3.09634 26.3202 3.02634 26.4322 2.97834C26.5442 2.92834 26.6722 2.90334 26.8162 2.90334C27.0322 2.90334 27.2072 2.95634 27.3412 3.06234C27.4772 3.16634 27.5522 3.31234 27.5662 3.50034H27.1042C27.1002 3.42834 27.0692 3.36934 27.0112 3.32334C26.9552 3.27534 26.8802 3.25134 26.7862 3.25134C26.7042 3.25134 26.6382 3.27234 26.5882 3.31434C26.5402 3.35634 26.5162 3.41734 26.5162 3.49734C26.5162 3.55334 26.5342 3.60034 26.5702 3.63834C26.6082 3.67434 26.6542 3.70434 26.7082 3.72834C26.7642 3.75034 26.8422 3.77634 26.9422 3.80634C27.0782 3.84634 27.1892 3.88634 27.2752 3.92634C27.3612 3.96634 27.4352 4.02634 27.4972 4.10634C27.5592 4.18634 27.5902 4.29134 27.5902 4.42134C27.5902 4.53334 27.5612 4.63734 27.5032 4.73334C27.4452 4.82934 27.3602 4.90634 27.2482 4.96434C27.1362 5.02034 27.0032 5.04834 26.8492 5.04834Z" fill="black"/>
           
            <defs>
            <filter id="filter0_dd_1324_2872" x="0.842041" y="0.533203" width="30.3516" height="30.8984" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
            <feOffset dx="2" dy="2"/>
            <feGaussianBlur stdDeviation="0.5"/>
            <feComposite in2="hardAlpha" operator="out"/>
            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.25 0"/>
            <feBlend mode="normal" in2="BackgroundImageFix" result="effect1_dropShadow_1324_2872"/>
            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
            <feOffset dx="1" dy="1"/>
            <feGaussianBlur stdDeviation="0.5"/>
            <feComposite in2="hardAlpha" operator="out"/>
            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.35 0"/>
            <feBlend mode="normal" in2="effect1_dropShadow_1324_2872" result="effect2_dropShadow_1324_2872"/>
            <feBlend mode="normal" in="SourceGraphic" in2="effect2_dropShadow_1324_2872" result="shape"/>
            </filter>
            
            <filter id="filter1_ii_1324_2872" x="6.56519" y="5.52051" width="17.3235" height="18.3232" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
            <feOffset dy="1.5"/>
            <feGaussianBlur stdDeviation="0.5"/>
            <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
            <feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"/>
            <feBlend mode="normal" in2="shape" result="effect1_innerShadow_1324_2872"/>
            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
            <feOffset dy="1"/>
            <feGaussianBlur stdDeviation="0.5"/>
            <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"/>
            <feBlend mode="normal" in2="effect1_innerShadow_1324_2872" result="effect2_innerShadow_1324_2872"/>
            </filter>
            <filter id="filter2_iiii_1324_2872" x="5.28503" y="5.60449" width="16.511" height="22.2422" filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
            <feFlood flood-opacity="0" result="BackgroundImageFix"/>
            <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"/>
            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
            <feOffset dy="1.5"/>
            <feGaussianBlur stdDeviation="0.5"/>
            <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
            <feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"/>
            <feBlend mode="normal" in2="shape" result="effect1_innerShadow_1324_2872"/>
            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
            <feOffset/>
            <feGaussianBlur stdDeviation="1"/>
            <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
            <feColorMatrix type="matrix" values="0 0 0 0 1 0 0 0 0 1 0 0 0 0 1 0 0 0 0.25 0"/>
            <feBlend mode="normal" in2="effect1_innerShadow_1324_2872" result="effect2_innerShadow_1324_2872"/>
            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
            <feOffset dy="1"/>
            <feGaussianBlur stdDeviation="0.5"/>
            <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"/>
            <feBlend mode="normal" in2="effect2_innerShadow_1324_2872" result="effect3_innerShadow_1324_2872"/>
            <feColorMatrix in="SourceAlpha" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0" result="hardAlpha"/>
            <feOffset dy="-1"/>
            <feGaussianBlur stdDeviation="0.5"/>
            <feComposite in2="hardAlpha" operator="arithmetic" k2="-1" k3="1"/>
            <feColorMatrix type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 1 0"/>
            <feBlend mode="normal" in2="effect3_innerShadow_1324_2872" result="effect4_innerShadow_1324_2872"/>
            </filter>

            </defs>
            </svg>
    </div>
  )
}
